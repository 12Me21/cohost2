/* fonts */
@font-face {
	font-family: 'Atkinson Hyperlegible';
	src: url(res/atkinson-hyperlegible/regular.woff2);
}
@font-face {
	font-family: 'Atkinson Hyperlegible';
	font-weight: 700;
	src: url(res/atkinson-hyperlegible/bold.woff2);
}
@font-face {
	font-family: 'Atkinson Hyperlegible';
	font-style: italic;
	src: url(res/atkinson-hyperlegible/italic.woff2);
}
@font-face {
	font-family: 'Atkinson Hyperlegible';
	font-weight: 700; font-style: italic;
	src: url(res/atkinson-hyperlegible/bold-italic.woff2);
}
:root {
	font-family:
		'Atkinson Hyperlegible',
		ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'segoe ui', Roboto, 'helvetica neue', Arial, 'noto sans', sans-serif,
		'apple color emoji', 'segoe ui emoji', 'segoe ui symbol', 'noto color emoji';
	word-break: break-word;
}
* {
	font-family: inherit; font-size: inherit; word-break: inherit;
	-webkit-text-size-adjust: none;
}

/* all */
* {
	contain: content;
	margin: 0;
	scrollbar-color: white #3F9FA8;
}

/* viewport */
html, body {
	position: fixed;
	top: 0; right: 0; bottom: 0; left: 0;
	overflow: hidden;
	contain: strict;
}
body {
	border: 1rem solid #3FBFA8;
}
#\$sidebar {
	border-bottom: 1rem solid #3F9FA8;
}

/* rendering optimizaton. browser sometimes won't use cleartype otherwise. */
body, main, view-root, .scroller, .scroller > * {
	background: white;
}

/* flex system */
.row, .col { display: flex }
.col { flex-flow: column }
.row > *, .col > * {
	flex: none;
	min-width: 0;
	min-height: 0;
}
.fill {
	flex: 1
}
.row.gaps > :nth-child(n+2) {
	margin-left: var(--gap);
}
.col.gaps > :nth-child(n+2) {
	margin-top: var(--gap);
}

img, input, button {
	vertical-align: top;
}

/* header */
header {
	background: linear-gradient(180.5deg, #87D3B1 0 30%, #3FBFA8 0 70%, #3F9FA8 0 100%);
	color: white;
	padding: 0.5rem;
	--gap: 8px;
	align-items: center;
	height: 32px;
	border-right: 1em solid #3F9FA8;
}
#\$title {
	font-weight: bold;
	font-size: 1.5em;
}
.logo {
	height: 32px;
	aspect-ratio: 104 / 75;
	color: #000;
	filter: blur(1.2px);
}

/* icons */
.icon {
	width: 1.5rem;
	height: 1.5rem;
}

/* notifications */
.notification {
	margin: 0.25rem;
	border: 1px solid;
	align-items: center;
	padding: 2px;
}
.notification > .icon {
	margin-right: 0.25em;
}

:root {
	--avatar-border: 1px;
	--avatar-size: 32px;
}
.avatar {
	width: var(--avatar-size);
	height: var(--avatar-size);
}
.avatar > img {
	width: 100%;
	height: 100%;
	display: block;
	object-fit: cover;
}
.avatar > img:-moz-broken, .avatar > img:-moz-loading {
	background: #BBB;
}
/* avatar shapes */
.mask-roundrect {
	border-radius: 0.5rem;
	border: var(--avatar-border) solid;
}
.mask-circle {
	border-radius: 50%;
	border: var(--avatar-border) solid;
}
.mask-squircle {
	mask: alpha url('data:image/svg+xml,<svg viewBox="-5,-5 10,10" \
preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\
<path d="M0-5C+4-5+5-4+5-0S+4+5-0+5-5+4-5+0-4-5+0-5z"/></svg>'
) 0 / 100% 100%;
	position: relative;
	padding: var(--avatar-border);
}
.mask-squircle::after {
	display: block;
	display: var(--avatar-border, none);
	content: "";
	position: absolute;
	background: currentColor;
	top: 0; right: 0; bottom: 0; left: 0;
	padding: inherit;
	mask: alpha url('data:image/svg+xml,<svg viewBox="-10,-10 20,20" \
preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\
<path d="M-10-10H10V10H-10z M0-5C+4-5+5-4+5-0S+4+5-0+5-5+4-5+0-4-5+0-5z" fill-rule="evenodd" clip-rule="evenodd"/></svg>'
) content-box padding-box center / 200% 200%;
	z-index: 1;
}

/* */
main {
	display: flex;
}
main > * {
	width: 100%;
	height: 100%;
}
view-root {
	flex: 1; min-height: 0;
	overflow-y: scroll;
}

.pre {
	white-space: pre;
	unicode-bidi: embed;
}

.name {
	font-weight: bold;
}

/* todo: the avatar causes the area above/below the text to be clickable. is this good/bad? on notifs page, the page title doesnt have this property. should be consistent. */
.project-label, .post-label {
	text-decoration: unset;
	color: unset;
}

a:hover {	
	text-decoration: underline !important;
}

.project-label {
	display: inline-flex;
	align-items: center;
}
.project-label > .avatar {
	margin-right: 0.25em;
}

/*.post-label {
	display: inline-flex;
	align-items: center;
}*/

/* scrolling elements */
.scroller {
	overflow-y: scroll;
	width: 100%;
	display: flex;
	flex-flow: column;
}
.scroller > * {
	flex: none;
}
.scroller, view-root, main, body > div, aside {
	contain: strict;
}

/* sidebar */
aside {
	
}

#\$printer > div {
	white-space: pre-wrap;
	border: solid;
	padding: 1px 3px;
}
